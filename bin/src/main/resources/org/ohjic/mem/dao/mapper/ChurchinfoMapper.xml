<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.ohjic.mem.dao.ChurchinfoMapper">
  <resultMap id="BaseResultMap" type="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    <id column="churchCode" jdbcType="INTEGER" property="churchCode" />
    <result column="churchName" jdbcType="VARCHAR" property="churchName" />
    <result column="religiousBody" jdbcType="VARCHAR" property="religiousBody" />
    <result column="churchSize" jdbcType="INTEGER" property="churchSize" />
    <result column="ministerName" jdbcType="VARCHAR" property="ministerName" />
    <result column="churchAddress1" jdbcType="VARCHAR" property="churchAddress1" />
    <result column="churchAddress2" jdbcType="VARCHAR" property="churchAddress2" />
    <result column="churchZipcode" jdbcType="VARCHAR" property="churchZipcode" />
    <result column="churchPhone" jdbcType="VARCHAR" property="churchPhone" />
    <result column="adminId" jdbcType="VARCHAR" property="adminId" />
    <result column="homepage" jdbcType="VARCHAR" property="homepage" />
    <result column="regiDate" jdbcType="INTEGER" property="regiDate" />
    <result column="deleteFlag" jdbcType="BIT" property="deleteFlag" />
    <result column="point" jdbcType="INTEGER" property="point" />
    <result column="version" jdbcType="INTEGER" property="version" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    <result column="oldProgram" jdbcType="LONGVARCHAR" property="oldProgram" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    churchCode, churchName, religiousBody, churchSize, ministerName, churchAddress1, 
    churchAddress2, churchZipcode, churchPhone, adminId, homepage, regiDate, deleteFlag, 
    point, version
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    oldProgram
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from churchInfo
    where churchCode = #{churchCode,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    delete from churchInfo
    where churchCode = #{churchCode,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    insert into churchInfo (churchCode, churchName, religiousBody, 
      churchSize, ministerName, churchAddress1, 
      churchAddress2, churchZipcode, churchPhone, 
      adminId, homepage, regiDate, 
      deleteFlag, point, version, 
      oldProgram)
    values (#{churchCode,jdbcType=INTEGER}, #{churchName,jdbcType=VARCHAR}, #{religiousBody,jdbcType=VARCHAR}, 
      #{churchSize,jdbcType=INTEGER}, #{ministerName,jdbcType=VARCHAR}, #{churchAddress1,jdbcType=VARCHAR}, 
      #{churchAddress2,jdbcType=VARCHAR}, #{churchZipcode,jdbcType=VARCHAR}, #{churchPhone,jdbcType=VARCHAR}, 
      #{adminId,jdbcType=VARCHAR}, #{homepage,jdbcType=VARCHAR}, #{regiDate,jdbcType=INTEGER}, 
      #{deleteFlag,jdbcType=BIT}, #{point,jdbcType=INTEGER}, #{version,jdbcType=INTEGER}, 
      #{oldProgram,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    insert into churchInfo
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="churchCode != null">
        churchCode,
      </if>
      <if test="churchName != null">
        churchName,
      </if>
      <if test="religiousBody != null">
        religiousBody,
      </if>
      <if test="churchSize != null">
        churchSize,
      </if>
      <if test="ministerName != null">
        ministerName,
      </if>
      <if test="churchAddress1 != null">
        churchAddress1,
      </if>
      <if test="churchAddress2 != null">
        churchAddress2,
      </if>
      <if test="churchZipcode != null">
        churchZipcode,
      </if>
      <if test="churchPhone != null">
        churchPhone,
      </if>
      <if test="adminId != null">
        adminId,
      </if>
      <if test="homepage != null">
        homepage,
      </if>
      <if test="regiDate != null">
        regiDate,
      </if>
      <if test="deleteFlag != null">
        deleteFlag,
      </if>
      <if test="point != null">
        point,
      </if>
      <if test="version != null">
        version,
      </if>
      <if test="oldProgram != null">
        oldProgram,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="churchCode != null">
        #{churchCode,jdbcType=INTEGER},
      </if>
      <if test="churchName != null">
        #{churchName,jdbcType=VARCHAR},
      </if>
      <if test="religiousBody != null">
        #{religiousBody,jdbcType=VARCHAR},
      </if>
      <if test="churchSize != null">
        #{churchSize,jdbcType=INTEGER},
      </if>
      <if test="ministerName != null">
        #{ministerName,jdbcType=VARCHAR},
      </if>
      <if test="churchAddress1 != null">
        #{churchAddress1,jdbcType=VARCHAR},
      </if>
      <if test="churchAddress2 != null">
        #{churchAddress2,jdbcType=VARCHAR},
      </if>
      <if test="churchZipcode != null">
        #{churchZipcode,jdbcType=VARCHAR},
      </if>
      <if test="churchPhone != null">
        #{churchPhone,jdbcType=VARCHAR},
      </if>
      <if test="adminId != null">
        #{adminId,jdbcType=VARCHAR},
      </if>
      <if test="homepage != null">
        #{homepage,jdbcType=VARCHAR},
      </if>
      <if test="regiDate != null">
        #{regiDate,jdbcType=INTEGER},
      </if>
      <if test="deleteFlag != null">
        #{deleteFlag,jdbcType=BIT},
      </if>
      <if test="point != null">
        #{point,jdbcType=INTEGER},
      </if>
      <if test="version != null">
        #{version,jdbcType=INTEGER},
      </if>
      <if test="oldProgram != null">
        #{oldProgram,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    update churchInfo
    <set>
      <if test="churchName != null">
        churchName = #{churchName,jdbcType=VARCHAR},
      </if>
      <if test="religiousBody != null">
        religiousBody = #{religiousBody,jdbcType=VARCHAR},
      </if>
      <if test="churchSize != null">
        churchSize = #{churchSize,jdbcType=INTEGER},
      </if>
      <if test="ministerName != null">
        ministerName = #{ministerName,jdbcType=VARCHAR},
      </if>
      <if test="churchAddress1 != null">
        churchAddress1 = #{churchAddress1,jdbcType=VARCHAR},
      </if>
      <if test="churchAddress2 != null">
        churchAddress2 = #{churchAddress2,jdbcType=VARCHAR},
      </if>
      <if test="churchZipcode != null">
        churchZipcode = #{churchZipcode,jdbcType=VARCHAR},
      </if>
      <if test="churchPhone != null">
        churchPhone = #{churchPhone,jdbcType=VARCHAR},
      </if>
      <if test="adminId != null">
        adminId = #{adminId,jdbcType=VARCHAR},
      </if>
      <if test="homepage != null">
        homepage = #{homepage,jdbcType=VARCHAR},
      </if>
      <if test="regiDate != null">
        regiDate = #{regiDate,jdbcType=INTEGER},
      </if>
      <if test="deleteFlag != null">
        deleteFlag = #{deleteFlag,jdbcType=BIT},
      </if>
      <if test="point != null">
        point = #{point,jdbcType=INTEGER},
      </if>
      <if test="version != null">
        version = #{version,jdbcType=INTEGER},
      </if>
      <if test="oldProgram != null">
        oldProgram = #{oldProgram,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where churchCode = #{churchCode,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    update churchInfo
    set churchName = #{churchName,jdbcType=VARCHAR},
      religiousBody = #{religiousBody,jdbcType=VARCHAR},
      churchSize = #{churchSize,jdbcType=INTEGER},
      ministerName = #{ministerName,jdbcType=VARCHAR},
      churchAddress1 = #{churchAddress1,jdbcType=VARCHAR},
      churchAddress2 = #{churchAddress2,jdbcType=VARCHAR},
      churchZipcode = #{churchZipcode,jdbcType=VARCHAR},
      churchPhone = #{churchPhone,jdbcType=VARCHAR},
      adminId = #{adminId,jdbcType=VARCHAR},
      homepage = #{homepage,jdbcType=VARCHAR},
      regiDate = #{regiDate,jdbcType=INTEGER},
      deleteFlag = #{deleteFlag,jdbcType=BIT},
      point = #{point,jdbcType=INTEGER},
      version = #{version,jdbcType=INTEGER},
      oldProgram = #{oldProgram,jdbcType=LONGVARCHAR}
    where churchCode = #{churchCode,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="org.ohjic.mem.model.Churchinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 25 16:45:12 KST 2016.
    -->
    update churchInfo
    set churchName = #{churchName,jdbcType=VARCHAR},
      religiousBody = #{religiousBody,jdbcType=VARCHAR},
      churchSize = #{churchSize,jdbcType=INTEGER},
      ministerName = #{ministerName,jdbcType=VARCHAR},
      churchAddress1 = #{churchAddress1,jdbcType=VARCHAR},
      churchAddress2 = #{churchAddress2,jdbcType=VARCHAR},
      churchZipcode = #{churchZipcode,jdbcType=VARCHAR},
      churchPhone = #{churchPhone,jdbcType=VARCHAR},
      adminId = #{adminId,jdbcType=VARCHAR},
      homepage = #{homepage,jdbcType=VARCHAR},
      regiDate = #{regiDate,jdbcType=INTEGER},
      deleteFlag = #{deleteFlag,jdbcType=BIT},
      point = #{point,jdbcType=INTEGER},
      version = #{version,jdbcType=INTEGER}
    where churchCode = #{churchCode,jdbcType=INTEGER}
  </update>
  
  <select id="selectList" parameterType="java.lang.Integer" resultMap="ResultMapWithBLOBs">
    select a.* from ohjic.churchInfo  a 
	inner join ohjic.product b on a.churchCode=b.churchCode and b.`type`='kyo' and b.endDate >= unix_timestamp(now())
    where deleteFlag=#{deleteFlag}
    order by a.churchCode asc
  </select>
</mapper>